{
    "type": "AssuranceActivity",
    "activity": "Scripted Testing: Robust",
    "testObjective": {
      "type": "TestObjective",
      "uuid": "6cde1b0f-3e41-4878-8cd5-79c87be88a7d",
      "objective": "Verify that p values produced by stats::t.test are uniformly distributed",
      "keywords": ["t-test", "p value", "statistics"],
      "testCases": [
        {
          "type": "TestCase",
          "uuid": "4fa03a8d-2e39-4866-9cd3-69b77bd78a6b",
          "testName": "t test produces calibrated p values",
          "description": "This test checks that the p values produced by stats::t.test do not deviate substantially from the expected uniform distribution.",
          "code": "set.seed(42)\nm <- 100\nfor (n in c(5, 50, 500)) {\n# repeatedly sample data under null and record p value\nres <- numeric(m)\nfor (i in 1:m) {\nres[i] <- t.test(rnorm(n))$p.value\n}\n# expect non significant result\nexpect_true(\nks.test(res, 'punif')$p.value > 0.05\n)\n}",
          "result": "pass",
          "environment": {
            "container": "rocker/tidyverse:4.3.1",
            "runtime": "singularity",
            "runtimeVersion": "3.8",
            "renvLockfile": ""
          }
        },
        {
          "type": "TestCase",
          "uuid": "5bce1a9d-3e40-4877-8cd4-79c87be88a7c",
          "testName": "Another t test example",
          "description": "This is another test case related to the same test objective.",
          "code": "Your test case code here",
          "result": "fail",
          "environment": {
            "container": "rocker/tidyverse:4.3.1",
            "runtime": "singularity",
            "runtimeVersion": "3.8",
            "renvLockfile": ""
          }
        }
      ]
    }
  }